{"ast":null,"code":"var _jsxFileName = \"/home/anderson-mello/delivery-app-test/front-end/src/Components/UserTable.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, memo } from 'react';\nimport { AdminContext } from '../Context/AdminContex';\nimport { AdminTable, TbEmail, TbExcluir, TbItem, TbNome, TbTipo, ThEmail, ThExcluir, ThItem, ThNome, ThTipo } from '../Pages/Styles/admin';\nimport { requestAllUsers, requestDeleteUser } from '../Services/Request';\nimport { getUserInfo } from '../Services/Storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserTable() {\n  _s();\n  const {\n    users,\n    setUsers\n  } = useContext(AdminContext);\n  useEffect(() => {\n    const getUsers = async () => {\n      const {\n        token\n      } = getUserInfo();\n      const usersRequested = await requestAllUsers('/user', {\n        headers: {\n          Authorization: token\n        }\n      });\n      setUsers(usersRequested);\n    };\n    getUsers();\n  }, []);\n  const handleClick = async email => {\n    const {\n      token\n    } = getUserInfo();\n    const usersWithoutDeleted = await requestDeleteUser('/user', {\n      data: {\n        email\n      },\n      headers: {\n        Authorization: token\n      }\n    });\n    setUsers(usersWithoutDeleted);\n  };\n  return /*#__PURE__*/_jsxDEV(AdminTable, {\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(ThItem, {\n          children: \"Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThNome, {\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThEmail, {\n          children: \"E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThTipo, {\n          children: \"Tipo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThExcluir, {\n          children: \"Excluir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: users && users.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(TbItem, {\n          \"data-testid\": `admin_manage__element-user-table-item-number-${index}`,\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TbNome, {\n          \"data-testid\": `admin_manage__element-user-table-name-${index}`,\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TbEmail, {\n          \"data-testid\": `admin_manage__element-user-table-email-${index}`,\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TbTipo, {\n          \"data-testid\": `admin_manage__element-user-table-role-${index}`,\n          children: user.role === 'seller' ? 'P.Vendedora' : 'Cliente'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          \"data-testid\": `admin_manage__element-user-table-remove-${index}`,\n          children: /*#__PURE__*/_jsxDEV(TbExcluir, {\n            type: \"button\",\n            onClick: _ref => {\n              let {\n                target: {\n                  parentNode: {\n                    previousSibling\n                  }\n                }\n              } = _ref;\n              handleClick(previousSibling.previousSibling.innerHTML);\n            },\n            children: \"Excluir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(UserTable, \"/BVeU/pWNakrKtetDVDCxcQcLpA=\");\n_c = UserTable;\nexport default _c2 = /*#__PURE__*/memo(UserTable);\nvar _c, _c2;\n$RefreshReg$(_c, \"UserTable\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useEffect","memo","AdminContext","AdminTable","TbEmail","TbExcluir","TbItem","TbNome","TbTipo","ThEmail","ThExcluir","ThItem","ThNome","ThTipo","requestAllUsers","requestDeleteUser","getUserInfo","UserTable","users","setUsers","getUsers","token","usersRequested","headers","Authorization","handleClick","email","usersWithoutDeleted","data","map","user","index","name","role","target","parentNode","previousSibling","innerHTML"],"sources":["/home/anderson-mello/delivery-app-test/front-end/src/Components/UserTable.js"],"sourcesContent":["import React, { useContext, useEffect, memo } from 'react';\nimport { AdminContext } from '../Context/AdminContex';\nimport { AdminTable, TbEmail, TbExcluir, TbItem, TbNome, TbTipo, ThEmail,\n  ThExcluir, ThItem, ThNome, ThTipo,\n} from '../Pages/Styles/admin';\nimport { requestAllUsers, requestDeleteUser } from '../Services/Request';\nimport { getUserInfo } from '../Services/Storage';\n\nfunction UserTable() {\n  const { users, setUsers } = useContext(AdminContext);\n\n  useEffect(() => {\n    const getUsers = async () => {\n      const { token } = getUserInfo();\n\n      const usersRequested = await requestAllUsers(\n        '/user',\n        { headers: { Authorization: token } },\n      );\n\n      setUsers(usersRequested);\n    };\n    getUsers();\n  }, []);\n\n  const handleClick = async (email) => {\n    const { token } = getUserInfo();\n\n    const usersWithoutDeleted = await requestDeleteUser(\n      '/user',\n      {\n        data: { email },\n        headers: { Authorization: token },\n      },\n    );\n\n    setUsers(usersWithoutDeleted);\n  };\n\n  return (\n    <AdminTable>\n      <thead>\n        <tr>\n          <ThItem>Item</ThItem>\n          <ThNome>Nome</ThNome>\n          <ThEmail>E-mail</ThEmail>\n          <ThTipo>Tipo</ThTipo>\n          <ThExcluir>Excluir</ThExcluir>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          users && (users.map((user, index) => (\n            <tr key={ index }>\n              <TbItem\n                data-testid={\n                  `admin_manage__element-user-table-item-number-${index}`\n                }\n              >\n                { index + 1 }\n              </TbItem>\n              <TbNome data-testid={ `admin_manage__element-user-table-name-${index}` }>\n                { user.name }\n              </TbNome>\n              <TbEmail data-testid={ `admin_manage__element-user-table-email-${index}` }>\n                { user.email }\n              </TbEmail>\n              <TbTipo data-testid={ `admin_manage__element-user-table-role-${index}` }>\n                { user.role === 'seller' ? 'P.Vendedora' : 'Cliente' }\n              </TbTipo>\n              <td data-testid={ `admin_manage__element-user-table-remove-${index}` }>\n                <TbExcluir\n                  type=\"button\"\n                  onClick={ ({ target: { parentNode: { previousSibling } } }) => {\n                    handleClick(previousSibling.previousSibling.innerHTML);\n                  } }\n                >\n                  Excluir\n                </TbExcluir>\n              </td>\n            </tr>\n          )))\n        }\n      </tbody>\n    </AdminTable>\n  );\n}\n\nexport default memo(UserTable);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}